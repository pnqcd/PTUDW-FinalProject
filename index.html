<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ads Management</title>
    <link rel="apple-touch-icon" sizes="76x56" href="./assets/img/logo-only.png">
    <link rel="icon" type="image/png" href="./assets/img/logo-only.png">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Roboto:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Roboto:wght@300;400;500;700&family=Source+Sans+3:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/fonts/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.1/mapsjs-ui.css" />
    <link rel="stylesheet" href="../assets/lightbox2/css/lightbox.min.css">
    <!-- <link href="./node_modules/filepond/dist/filepond.css" rel="stylesheet" /> -->
    <link href="https://unpkg.com/filepond/dist/filepond.css" rel="stylesheet" />
    <!-- <link href="./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css" rel="stylesheet" /> -->
    <link href="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.css"
        rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
    <!-- <script src="./node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js"></script> -->
    <script
        src="https://unpkg.com/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js"></script>
    <!-- <script src="./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script> -->
    <!-- <script src="./node_modules/filepond/dist/filepond.js"></script> -->
    <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
    <script src="https://unpkg.com/filepond/dist/filepond.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>

<body>
    <header class="header">
        <nav class="header__navbar">
            <div class="header__navbar-logo">
                <a href="index.html" target="_top"><img src="./assets/img/logo.png" alt="logo"></a>
            </div>

            <!-- ... your existing content ... -->

            <div class="header__navbar-search">
                <div class="input-group autocomplete-container" id="searchPlaceBox">
                    <!-- Add a search icon using Font Awesome -->

                    <!-- Input field for search -->
                    <input type="text" id="searchInput" class="form-control" placeholder="Tìm kiếm địa điểm...">

                    <!-- Autocomplete dropdown -->
                    <div id="autocompleteDropdown" class="autocomplete-dropdown dropdown-menu"></div>
                </div>
            </div>

        </nav>
    </header>

    <div id="map">
        <!-- <div class="container mt-5 searchbox">
            <div class="row justify-content-left">
                <div class="col-md-6">
                    <div class="input-group autocomplete-container">
                        <input type="text" id="searchInput" class="form-control" placeholder="Search...">
                        <div id="autocompleteDropdown" class="autocomplete-dropdown dropdown-menu"></div>
                    </div>
                </div>
            </div>
        </div> -->

        <div id="toggleLayout" class="d-flex flex-column align-items-start">
            <div class="form-check form-switch">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked1" checked>
                <label class="form-check-label" for="flexSwitchCheckChecked1">Điểm quảng cáo</label>
            </div>

            <div class="form-check form-switch mt-2">
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked2" checked>
                <label class="form-check-label" for="flexSwitchCheckChecked2">Điểm báo cáo</label>
            </div>

        </div>

        <div id="reportDialogModal">
        </div>
    </div>

    <div id="login-section">
        <div class="empty-section" onclick="closeLogin()"></div>
        <div class="login-box">
            <img src="./assets/img/logo-blue.png" alt="logo">
            <p>Đăng nhập vào hệ thống</p>
            <form action="/login/password" method="post">
                <section class="input-group">
                    <div class="input-icon"><label for="username"><i class="fa fa-user" aria-hidden="true"></i></label>
                    </div>
                    <input class="input-field" id="username" name="username" type="text"
                        placeholder="Tên người dùng hoặc email" autocomplete="username" required autofocus>
                </section>
                <section class="input-group">
                    <div class="input-icon"><label for="current-password"><i class="fa fa-lock"
                                aria-hidden="true"></i></label></div>
                    <input class="input-field" id="current-password" name="password" type="password"
                        placeholder="Mật khẩu" autocomplete="current-password" required>
                </section>
                <button class="login-button" type="submit">Đăng nhập</button>
            </form>
        </div>
    </div>

    <!-- <div id="popup" class="popup">
        <div id="popupInformation">This is the popup content.</div>
        <button id="closePopup">Close</button>
    </div> -->

    <!-- <div class="right-panel" id="rightPanel">
        <div id="content-right-panel-detail-ad">
        </div>
    </div> -->

    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasExampleLabel">Thông tin chi tiết</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body" id="rightSidePanelBody">
            <!-- <div>
                Some text as placeholder. In real life you can have the elements you have chosen. Like, text, images,
                lists, etc.
            </div>
            <div class="dropdown mt-3">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton"
                    data-bs-toggle="dropdown">
                    Dropdown button
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li><a class="dropdown-item" href="#">Another action</a></li>
                    <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
            </div> -->
        </div>
    </div>

    <div id="reportAdBannerDialog" class="AdBannerDialog">
        <div class="reportAdBannerContent">
            <span class="closeAdBannerDialog">&times;</span>
            <div class="formbold-main-wrapper">
                <!-- Author: FormBold Team -->
                <!-- Learn More: https://formbold.com -->
                <div class="formbold-form-wrapper">
                    <!-- <form action="http://localhost:3000/submit" method="POST"> -->
                    <form id="adBannerDialogReportForm">
                        <div class="formbold-input-flex">
                            <div>
                                <input type="text" name="firstname" id="firstname" placeholder="Jane"
                                    class="formbold-form-input" />
                                <label for="firstname" class="formbold-form-label"> Họ và tên </label>
                            </div>
                            <div>
                                <select name="lastname" id="lastname" class="formbold-form-input">
                                    <option value="Tố giác sai phạm">Tố giác sai phạm</option>
                                    <option value="Đăng ký nội dung">Đăng ký nội dung</option>
                                    <option value="Đóng góp ý kiến">Đóng góp ý kiến</option>
                                    <option value="Giải đáp thắc mắc">Giải đáp thắc mắc</option>
                                </select>
                                <label for="lastname" class="formbold-form-label"> Loại báo cáo </label>
                            </div>
                        </div>
                        <div class="formbold-input-flex">
                            <div>
                                <input type="email" name="email" id="email" placeholder="jhon@mail.com"
                                    class="formbold-form-input" />
                                <label for="email" class="formbold-form-label"> Email </label>
                            </div>
                            <div>
                                <input type="text" name="phone" id="phone" placeholder="(319) 555-0115"
                                    class="formbold-form-input" />
                                <label for="phone" class="formbold-form-label"> Điện thoại </label>
                            </div>
                        </div>
                        <div class="formbold-textarea">
                            <textarea rows="6" name="message" id="message" placeholder="Write your message..."
                                class="formbold-form-input"></textarea>
                            <label for="message" class="formbold-form-label"> Nội dung báo cáo </label>
                        </div>

                        <label for="adBannerReportUploader" class="formbold-form-label" style="margin-top: 18px;"> Tải
                            lên hình ảnh (tối đa 2 hình) </label>
                        <input type="file" name="adBannerReportUploader" id="adBannerReportUploader"
                            class="formbold-form-input" multiple>

                        <div style="display: flex; align-items: center; justify-content: center;">
                            <div class="g-recaptcha" data-sitekey="6LdCxQQpAAAAAAJ8pjtCR8mpE46QGEi_vCQog1KL"></div>
                        </div>

                        <button class="formbold-btn" onclick="sendAdBannerReportButtonClicked()">
                            Gửi báo cáo
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div id="reportDetailDialog" class="AdBannerDialog">
        <div class="reportAdBannerContent">
            <span class="closeAdBannerDialog" id="closeReportDetailDialog">&times;</span>
            <div class="formbold-main-wrapper">
                <!-- Author: FormBold Team -->
                <!-- Learn More: https://formbold.com -->
                <div class="formbold-form-wrapper">
                    <!-- <form action="http://localhost:3000/submit" method="POST"> -->
                    <form id="adBannerDialogReportForm">
                        <div class="formbold-input-flex">
                            <div>
                                <input type="text" name="firstname" id="firstnameReport" placeholder="Jane"
                                    class="formbold-form-input" readonly />
                                <label for="firstnameReport" class="formbold-form-label"> Họ và tên </label>
                            </div>
                            <div>
                                <select name="lastname" id="lastnameReport" class="formbold-form-input" disabled>
                                    <option value="Tố giác sai phạm">Tố giác sai phạm</option>
                                    <option value="Đăng ký nội dung">Đăng ký nội dung</option>
                                    <option value="Đóng góp ý kiến">Đóng góp ý kiến</option>
                                    <option value="Giải đáp thắc mắc">Giải đáp thắc mắc</option>
                                </select>
                                <label for="lastnameReport" class="formbold-form-label"> Loại báo cáo </label>
                            </div>
                        </div>
                        <div class="formbold-input-flex">
                            <div>
                                <input type="email" name="email" id="emailReport" placeholder="jhon@mail.com"
                                    class="formbold-form-input" readonly />
                                <label for="emailReport" class="formbold-form-label"> Email </label>
                            </div>
                            <div>
                                <input type="text" name="phone" id="phoneReport" placeholder="(319) 555-0115"
                                    class="formbold-form-input" readonly />
                                <label for="phoneReport" class="formbold-form-label"> Điện thoại </label>
                            </div>
                        </div>
                        <div class="formbold-textarea">
                            <textarea rows="6" name="message" id="messageReport" placeholder="Write your message..."
                                class="formbold-form-input" readonly></textarea>
                            <label for="messageReport" class="formbold-form-label"> Nội dung báo cáo </label>
                        </div>

                        <label class="formbold-form-label" style="margin-top: 20px;"> Hình ảnh báo cáo </label>
                        <img id="imgReportDetail1" alt="There's no image" style="width: 100%; margin-top: 10px;">
                        <img id="imgReportDetail2" alt="There's no image" style="width: 100%; margin-top: 20px;">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://js.api.here.com/v3/3.1/mapsjs-clustering.js"></script>
    <script src="../assets/lightbox2/js/lightbox-plus-jquery.min.js"></script>
    <!-- <script type="application/javascript" src= "./node_modules/tinymce/tinymce.min.js"></script> -->
    <script type="application/javascript" src="https://unpkg.com/tinymce/tinymce.min.js"></script>
    <script src="https://unpkg.com/filepond-plugin-file-encode/dist/filepond-plugin-file-encode.js"></script>
    <script src="https://unpkg.com/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js"></script>
    <script src="https://unpkg.com/filepond/dist/filepond.js"></script>
    <script type="text/javascript" src="./script.js"></script>
    <script>
        FilePond.registerPlugin(FilePondPluginImagePreview);
        FilePond.registerPlugin(FilePondPluginFileValidateType);
        FilePond.registerPlugin(FilePondPluginFileEncode);
        FilePond.setOptions({
            server: {
                // process: '/submit-ad-banner-report-img', // Server endpoint for file upload
                process: {
                    url: '/submit-ad-banner-report-img',
                    method: 'POST',
                    onload: (response) => {
                        // Extract the unique file ID from the server response
                        const uniqueFileId = JSON.parse(response);

                        // Do something with the unique file ID (optional)
                        console.log('Unique File ID:', uniqueFileId.uniqueFileId);

                        return uniqueFileId.uniqueFileId
                    },
                },
                revert: (uniqueFileId, load, error) => {
                    console.log(uniqueFileId);

                    var xhr = new XMLHttpRequest();
                    xhr.open("DELETE", "/revert", true);
                    xhr.setRequestHeader('Content-Type', 'application/json');
                    xhr.send(JSON.stringify({ uniqueFileId: uniqueFileId }));
                },
            },
        });

        const inputElement = document.getElementById("adBannerReportUploader");
        const pond = FilePond.create(inputElement, { acceptedFileTypes: ['image/*'], maxFiles: 2 });
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</body>

</html>